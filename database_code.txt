CREATE TABLE WAREHOUSE (
    Warehouse_No INT NOT NULL,
    Total_Books INT NOT NULL DEFAULT 0,
    Address VARCHAR(100) NOT NULL,
    PRIMARY KEY (Warehouse_No)
);

CREATE TABLE STORES_PRODUCT (
    Warehouse_No INT NOT NULL,
    Item_Number INT NOT NULL,
    Quantity INT NOT NULL DEFAULT 0,
    FOREIGN KEY (Warehouse_No) REFERENCES WAREHOUSE(Warehouse_No),
    FOREIGN KEY (Item_Number) REFERENCES PRODUCT(Item_Number),
    PRIMARY KEY (Warehouse_No, Item_Number)
);

CREATE TABLE PRODUCT (
    Item_Number INT NOT NULL,
    Warehouse_No INT NOT NULL,
    Transaction_ID INT NOT NULL,
    Price DECIMAL(10, 2) NOT NULL DEFAULT 0.00,
    Product_Type VARCHAR(100) NOT NULL,
    FOREIGN KEY (Warehouse_No) REFERENCES WAREHOUSE(Warehouse_No),
    PRIMARY KEY (Item_Number)

);

CREATE TABLE DRINK (
    Item_Number INT NOT NULL,
    Warehouse_No INT NOT NULL,
    Transaction_ID INT NOT NULL,
    Price DECIMAL(10, 2) NOT NULL DEFAULT 0.00,
    Product_Type VARCHAR(100) NOT NULL,
    FOREIGN KEY (Item_Number) REFERENCES PRODUCT(Item_Number),
    PRIMARY KEY (Item_Number)

);

CREATE TABLE BOARD_GAME (
    Item_Number INT NOT NULL,
    Warehouse_No INT NOT NULL,
    Transaction_ID INT NOT NULL,
    Price DECIMAL(10, 2) NOT NULL DEFAULT 0.00,
    Product_Type VARCHAR(100) NOT NULL,
    FOREIGN KEY (Item_Number) REFERENCES PRODUCT(Item_Number),
    PRIMARY KEY (Item_Number)

);

CREATE TABLE BOOK (
    ISBN INT NOT NULL,
    Publisher_ID INT NOT NULL,
    Item_Number INT NOT NULL,
    Book_Title VARCHAR(100) NOT NULL,
    Publisher VARCHAR(100) NOT NULL,
    Author_ID INT NOT NULL,
    FOREIGN KEY (Item_Number) REFERENCES PRODUCT(Item_Number),
    PRIMARY KEY (ISBN)

);

CREATE TABLE PUBLISHER (
    Publisher_ID INT NOT NULL,
    Publisher_NAME VARCHAR(100) NOT NULL,
    PRIMARY KEY (Publisher_ID)
);

CREATE TABLE AUTHOR (
    Author_ID INT NOT NULL,
    Author_Name VARCHAR(100) NOT NULL,
    PRIMARY KEY (Author_ID)
);

CREATE TABLE EMPLOYEE (
    Employee_ID INT NOT NULL,
    Store_ID INT NOT NULL,
    Sales_No INT NOT NULL,
    Shift VARCHAR(20) NOT NULL DEFAULT '9AM-5PM',
    First_Name VARCHAR(100) NOT NULL,
    Last_Name VARCHAR(100) NOT NULL,
    FOREIGN KEY (Store_ID) REFERENCES BOOK_STORE(Store_ID),
    PRIMARY KEY (Employee_ID)
);

CREATE TABLE DEPARTMENT (
    Dept_No INT NOT NULL,
    Store_ID INT NOT NULL,
    Dept_Name VARCHAR(100) NOT NULL,
    Dept_Address VARCHAR(100) NOT NULL,
    FOREIGN KEY (Store_ID) REFERENCES BOOK_STORE(Store_ID),
    PRIMARY KEY (Dept_No)
);

CREATE TABLE MANAGER (
    Employee_ID INT NOT NULL,
    Store_ID INT NOT NULL,
    Sales_No INT NOT NULL,
    Shift VARCHAR(20) NOT NULL DEFAULT '9AM-5PM',
    First_Name VARCHAR(100) NOT NULL,
    Last_Name VARCHAR(100) NOT NULL,
    Manager_ID INT NOT NULL,
    Manager_Type VARCHAR(100) NOT NULL,
    FOREIGN KEY (Employee_ID) REFERENCES EMPLOYEE(Employee_ID),
    FOREIGN KEY (Store_ID) REFERENCES BOOK_STORE(Store_ID),
    FOREIGN KEY (Manager_ID) REFERENCES EMPLOYEE(Employee_ID),
    PRIMARY KEY (Employee_ID)
);

CREATE TABLE GENERAL_EMPLOYEE (
    Employee_ID INT NOT NULL,
    Store_ID INT NOT NULL,
    Sales_No INT NOT NULL,
    Shift VARCHAR(20) NOT NULL DEFAULT '9AM-5PM',
    First_Name VARCHAR(100) NOT NULL,
    Last_Name VARCHAR(100) NOT NULL,
    FOREIGN KEY (Employee_ID) REFERENCES EMPLOYEE(Employee_ID),
    FOREIGN KEY (Store_ID) REFERENCES BOOK_STORE(Store_ID),
    PRIMARY KEY (Employee_ID)
);

CREATE TABLE EMPLOYEE_MANAGER (
    Employee_ID INT NOT NULL,
    Store_ID INT NOT NULL,
    Sales_No INT NOT NULL,
    Shift VARCHAR(20) NOT NULL DEFAULT '9AM-5PM',
    First_Name VARCHAR(100) NOT NULL,
    Last_Name VARCHAR(100) NOT NULL,
    Manager_ID INT NOT NULL,
    Manager_Type VARCHAR(100) NOT NULL,
    FOREIGN KEY (Employee_ID) REFERENCES EMPLOYEE(Employee_ID),
    FOREIGN KEY (Store_ID) REFERENCES BOOK_STORE(Store_ID),
    FOREIGN KEY (Manager_ID) REFERENCES EMPLOYEE(Employee_ID),
    PRIMARY KEY (Employee_ID)
);

CREATE TABLE STORE_MANAGER (
    Employee_ID INT NOT NULL,
    Store_ID INT NOT NULL,
    Sales_No INT NOT NULL,
    Shift VARCHAR(20) NOT NULL DEFAULT '9AM-5PM',
    First_Name VARCHAR(100) NOT NULL,
    Last_Name VARCHAR(100) NOT NULL,
    Manager_ID INT NOT NULL,
    Manager_Type VARCHAR(100) NOT NULL,
    FOREIGN KEY (Employee_ID) REFERENCES EMPLOYEE(Employee_ID),
    FOREIGN KEY (Store_ID) REFERENCES BOOK_STORE(Store_ID),
    FOREIGN KEY (Manager_ID) REFERENCES EMPLOYEE(Employee_ID),
    PRIMARY KEY (Employee_ID)
);

CREATE TABLE BOOK_STORE (
    Store_ID INT NOT NULL,
    Address VARCHAR(100) NOT NULL,
    PRIMARY KEY (Store_ID)
);

CREATE TABLE PURCHASE (
    Transaction_ID INT NOT NULL,
    Shopping_Address VARCHAR(100) NOT NULL,
    Billing_Address VARCHAR(100) NOT NULL,
    Payment_Method VARCHAR(100) NOT NULL,
    Date DATE NOT NULL,
    Customer_ID INT NOT NULL,
    Product_Number INT NOT NULL,
    FOREIGN KEY (Customer_ID) REFERENCES CUSTOMER(Loyalty_No),
    FOREIGN KEY (Product_Number) REFERENCES PRODUCT(Item_Number),
    PRIMARY KEY (Transaction_ID)
);

CREATE TABLE CUSTOMER (
    Loyalty_No INT NOT NULL,
    Address VARCHAR(100) NOT NULL,
    First_Name VARCHAR(100) NOT NULL,
    Last_Name VARCHAR(100) NOT NULL,
    PRIMARY KEY (Loyalty_No)
);

CREATE TABLE MAKES_TRANSACTION (
    Quantity INT NOT NULL,
    Loyalty_No INT NOT NULL,
    Transaction_ID INT NOT NULL,
    FOREIGN KEY (Loyalty_No) REFERENCES CUSTOMER(Loyalty_No),
    FOREIGN KEY (Transaction_ID) REFERENCES PURCHASE(Transaction_ID),
    PRIMARY KEY (Loyalty_No, Transaction_ID)
);

CREATE TABLE WRITTEN_BY (
    Author_ID INT NOT NULL,
    ISBN INT NOT NULL,
    FOREIGN KEY (Author_ID) REFERENCES AUTHOR(Author_ID),
    FOREIGN KEY (ISBN) REFERENCES BOOK(ISBN),
    PRIMARY KEY (Author_ID, ISBN)
);

CREATE TABLE STOCKED_BY (
    Employee_ID INT NOT NULL,
    Item_Number INT NOT NULL,
    FOREIGN KEY (Employee_ID) REFERENCES EMPLOYEE(Employee_ID),
    FOREIGN KEY (Item_Number) REFERENCES PRODUCT(Item_Number),
    PRIMARY KEY (Employee_ID, Item_Number)
);

INSERT INTO CUSTOMER(Loyalty_No, Address, First_Name, Last_Name)
VALUES
(1, '777 Brockton Avenue, Abington MA 2351' , 'Matt', 'Smith'),
(2, '30 Memorial Drive, Avon MA 2322', 'Jon', 'Don'),
(3, '250 Hartford Avenue, Bellingham MA 2019', 'Jake', 'Park'),
(4, '700 Oak Street, Brockton MA 2301', 'Jack', 'Black'),
(5, '66-4 Parkhurst Rd, Chelmsford MA 1824', 'Doug', 'Sampson'),
(6, '591 Memorial Dr, Chicopee MA 1020', 'Bill', 'White'),
(7, '55 Brooksby Village Way, Danvers MA 1923', 'Matt', 'Brown'),
(8, ' 137 Teaticket Hwy, East Falmouth MA 2536', 'Raven', 'So'),
(9, '42 Fairhaven Commons Way, Fairhaven MA 2719', 'Jackie', 'Smith'),
(10, '374 William S Canning Blvd, Fall River MA 2721', 'Smith', 'Smith'),
(11, '121 Worcester Rd, Framingham MA 1701', 'Darien', 'Parker'),
(12, '677 Timpany Blvd, Gardner MA 1440', 'Sam', 'Smith'),
(13, '337 Russell St, Hadley MA 1035', 'Lebron' , 'James'),
(14, '295 Plymouth Street, Halifax MA 2338', 'Steph', 'Curry'),
(15, '1775 Washington St, Hanover MA 2339', 'Tim', 'Duncan'),
(16, '280 Washington Street, Hudson MA 1749', 'Greg', 'Rose'),
(17, '20 Soojian Dr, Leicester MA 1524', 'Justin', 'Fields'),
(18, '11 Jungle Road, Leominster MA 1453', 'CJ', 'Stround'),
(19, '301 Massachusetts Ave, Lunenburg MA 1462', 'Derrick', 'Morris'),
(20, '780 Lynnway, Lynn MA 1905', 'John', 'John'),
(21, '70 Pleasant Valley Street, Methuen MA 1844', 'Wanos', 'Bahiru');




